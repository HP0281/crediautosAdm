<div class="center-loader" *ngIf="loader">
    <strong>Cargando
        <span class="loader__dot">.</span>
        <span class="loader__dot">.</span>
        <span class="loader__dot">.</span></strong>
</div>

<div class="container table-responsive" *ngIf="!loader">
    <button style="margin-bottom: 10px; margin-left: 0px;" class="btn btn-warning text-white" (click)="ngOnInit()">
        <i class="material-icons text-white">restore_page
        </i> Refrescar Tabla
    </button>

    <div class="card min">
        <div class="card-header">
            <h3>LISTADO DE PRODUCTOS</h3>

        </div>
        <input class="form-control" type="text" name="filterProducto" placeholder="buscar producto" [(ngModel)]="filterProducto">
        <div class="card-body">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>ID producto</th>
                        <th>Nombre</th>
                        <th>Categoria</th>
                        <th>Empresa</th>
                        <th>Descripcion</th>
                        <th>Estado Producto</th>
                        <th>Stock </th>
                        <th>Valor </th>
                        <th>Accion </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let producto of productos | listarProducto:filterProducto" class="text-center">
                        <td>{{producto.idProducto}}</td>
                        <td>{{producto.nombreProducto}}</td>
                        <td>{{producto.categoria.nombreCategoria}}</td>
                        <td>{{producto.empresa.razonSocial}}</td>
                        <td>{{producto.descripcion}}</td>
                        <td>{{producto.estadoProducto}}</td>
                        <td>{{producto.stockProducto}}</td>
                        <td>{{(producto.valorProducto)}}</td>

                        <td>
                            <button (click)="modificarProducto(producto)" style="margin: 10px" class="btn btn-primary">Modificar</button>
                            <button *ngIf="producto.estadoProducto=='Activo';else elseInactivo" (click)="inactivarProducto(producto)" style="margin: 10px" class="btn btn-danger">inactivar</button>
                            <ng-template #elseInactivo>
                                <button (click)="ActivarProducto(producto)" style="margin: 10px" class="btn btn-success">Activar</button>
                            </ng-template>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
        <!-- <div *ngIf="failEliminado" class="float-left">
            <p class="p-3 bg-danger text-white rounded">Error: {{msjErr}}</p>
        </div>
        <div *ngIf="eliminado" class="float-left">
            <p class="p-3 bg-success text-white rounded">OK: {{msjOK}}</p>
        </div>
        <div *ngIf="failActualizado" class="float-left">
            <p class="p-3 bg-danger text-white rounded" style="margin: 10px">Error: {{msjErr}}</p>
        </div>
        <div *ngIf="actualizado" class="float-left">
            <p class="p-3 bg-success text-white rounded" style="margin: 10px">OK: {{msjOK}}</p>
        </div>-->
    </div>
</div>