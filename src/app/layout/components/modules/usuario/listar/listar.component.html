<div class="center-loader" *ngIf="loader">
    <strong>Cargando
        <span class="loader__dot">.</span>
        <span class="loader__dot">.</span>
        <span class="loader__dot">.</span></strong>
</div>

<button style="margin-bottom: 10px; margin-left: 16px;" class="btn btn-warning text-white" (click)="ngOnInit()">
    <i class="material-icons text-white">restore_page
    </i> Refrescar Tabla
</button>


<div class="container table-responsive">
    <div class="example-container mat-elevation-z8">
        <div class="example-loading-shade"
             *ngIf="isLoadingResults || isRateLimitReached">
          <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
          <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
            GitHub's API rate limit has been reached. It will be reset in one minute.
          </div>
        </div>
      
        <div class="example-table-container">
      
          <table mat-table [dataSource]="data" class="example-table"
                 matSort matSortActive="created" matSortDisableClear matSortDirection="desc">
            <!-- Number Column -->
            <ng-container matColumnDef="user">
              <th mat-header-cell *matHeaderCellDef>Usuario</th>
              <td mat-cell *matCellDef="let row">{{row.nombre+" "+ row.apname}}</td>
            </ng-container>
      
            <!-- Title Column -->
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef>Email</th>
              <td mat-cell *matCellDef="let row">{{row.email}}</td>
            </ng-container>
      
            <!-- State Column -->
            <ng-container matColumnDef="phone">
              <th mat-header-cell *matHeaderCellDef>Telefono</th>
              <td mat-cell *matCellDef="let row">{{row.phone}}</td>
            </ng-container>
      
            <!-- Created Column -->
            <ng-container matColumnDef="rol">
              <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
                Role
              </th>
              <td mat-cell *matCellDef="let row"></td>
            </ng-container>
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
                  
                </th>
                <td mat-cell *matCellDef="let row">
                    <button mat-button  (click)="onVer(row)">Detalle</button>
                    <button mat-button (click)="onEdit(row)">Editar</button>
                    <button mat-button (click)="onDelete(row.id)">Eliminar</button>
                </td>
              </ng-container>
      
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>
      </div>
      
    

</div>
<ng-template #modalProcesando>
    <div class="card-body">
        <div class="center-loader">
            <strong>Guardando estado
            <span class="loader__dot">.</span>
            <span class="loader__dot">.</span>
            <span class="loader__dot">.</span></strong>
        </div>
    </div>
</ng-template>